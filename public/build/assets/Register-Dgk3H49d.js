import{m as F,r,j as e,L as R,$ as T}from"./app-BWG1ca1s.js";import{T as l,I as n}from"./TextInput-C3V-6X4s.js";import{I as c}from"./InputLabel-BV9w-rhu.js";import{G as A}from"./GuestLayout-CTz8P0hU.js";function k(){const{data:a,setData:t,post:x,processing:h,errors:o,reset:g}=F({name:"",email:"",password:"",password_confirmation:"",account_type:"personal",company_website:"",product_id:"",plan_id:""}),[m,j]=r.useState(!1),[u,w]=r.useState(!1),[p,v]=r.useState(a.account_type),[I,N]=r.useState(null),[L,y]=r.useState(null),b=()=>{j(!m)},f=()=>{w(!u)},_=s=>{const i=s.target.value;v(i),t("account_type",i)},C=s=>{s.preventDefault(),x(route("register"),{onFinish:()=>g("password","password_confirmation")})};return r.useEffect(()=>{const i=new URLSearchParams(window.location.search).get("plan");if(i){const P=decodeURIComponent(i),S=atob(P),d=new URLSearchParams(S);y(d.get("plan")),N(d.get("product")),t("product_id",d.get("product")),t("plan_id",d.get("plan"))}},[]),e.jsxs(A,{children:[e.jsx(R,{title:"Register"}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"border p-4 rounded",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{children:"Create an Account!"}),e.jsxs("p",{children:["Already have an account?"," ",e.jsx(T,{href:route("login"),className:"rounded-md text-sm text-gray-600 underline hover:text-gray-900",children:"Sign in here"})]})]}),e.jsx("div",{className:"form-body",children:e.jsxs("form",{className:"row g-3",onSubmit:C,children:[e.jsxs("div",{className:"col-12",children:[e.jsx(c,{htmlFor:"name",value:"Name or Company Name"}),e.jsx(l,{id:"name",name:"name",value:a.name,className:"form-control",autoComplete:"name",isFocused:!0,onChange:s=>t("name",s.target.value),required:!0}),e.jsx(n,{message:o.name,className:"mt-2 text-danger"})]}),e.jsxs("div",{className:"col-12",children:[e.jsx(c,{htmlFor:"email",value:"Email"}),e.jsx(l,{id:"email",type:"email",name:"email",value:a.email,className:"form-control",autoComplete:"username",onChange:s=>t("email",s.target.value),required:!0}),e.jsx(n,{message:o.email,className:"mt-2"})]}),e.jsxs("div",{className:"col-12",children:[e.jsx(c,{htmlFor:"password",value:"Password"}),e.jsxs("div",{className:"input-group",id:"show_hide_password",children:[e.jsx(l,{id:"password",type:m?"text":"password",name:"password",value:a.password,className:"form-control border-end-0",autoComplete:"new-password",onChange:s=>t("password",s.target.value),required:!0}),e.jsxs("a",{href:"#",onClick:b,className:"input-group-text bg-transparent",children:[e.jsx("i",{className:`bx ${m?"bx-show":"bx-hide"}`})," "]})]}),e.jsx(n,{message:o.password,className:"mt-2 text-danger"})]}),e.jsxs("div",{className:"col-12",children:[e.jsx(c,{htmlFor:"password_confirmation",value:"Confirm Password"}),e.jsxs("div",{className:"input-group",id:"show_hide_password",children:[e.jsx(l,{id:"password_confirmation",type:u?"text":"password",name:"password_confirmation",value:a.password_confirmation,className:"form-control border-end-0",autoComplete:"new-password",onChange:s=>t("password_confirmation",s.target.value),required:!0}),e.jsxs("a",{href:"#",onClick:f,className:"input-group-text bg-transparent",children:[e.jsx("i",{className:`bx ${u?"bx-show":"bx-hide"}`})," "]})]}),e.jsx(n,{message:o.password_confirmation,className:"mt-2 text-danger"})]}),e.jsxs("div",{className:"col-12",children:[e.jsx(c,{htmlFor:"account_type",value:"Account Type"}),e.jsxs("select",{id:"account_type",name:"account_type",className:"form-select",value:p,onChange:_,children:[e.jsx("option",{value:"personal",children:"Personal"}),e.jsx("option",{value:"business",children:"Business"})]}),e.jsx(n,{message:o.account_type,className:"mt-2 text-danger"})]}),p==="business"&&e.jsxs("div",{className:"col-12",children:[e.jsx(c,{htmlFor:"company_website",value:"Company Website"}),e.jsx(l,{id:"company_website",name:"company_website",value:a.company_website,className:"form-control",onChange:s=>t("company_website",s.target.value)}),e.jsx(n,{message:o.company_website,className:"mt-2 text-danger"})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("input",{type:"hidden",name:"product_id",value:a.product_id}),e.jsx("input",{type:"hidden",name:"plan_id",value:a.plan_id})]}),e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"d-grid",children:e.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:h,children:[e.jsx("i",{className:"bx bx-user"})," Register Account"]})})})]})})]})})})]})}export{k as default};
